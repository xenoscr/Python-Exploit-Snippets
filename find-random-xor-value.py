#!/usr/bin/python
import sys
import binascii
import argparse
import random

def main(inputFile):
	byteValues = bytearray();

	with open(inputFile, 'rb') as f:
		while True:
			oneByte = f.read(1)
			if not oneByte:
				break
			byteValues.append(oneByte)

	testNum = 0

	while True:
		xorValue = random.randint(1,255)
		if xorValue not in byteValues:
			print('We found {value}'.format(value = hex(xorValue)))
			break
		testNum += 1
		if (testNum == 255):
			print('We ran out of values...')
			break


if __name__ == "__main__":
	parser = argparse.ArgumentParser(description = 'Finds a XOR value that should not result in the production of NULL values.')
	parser.add_argument("-i", "--input", type=str, help="The import binary file.")
	args = parser.parse_args()

	if args.input:
		main(args.input)
	else:
		parser.print_help(sys.stderr)
